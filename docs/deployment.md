# üöÄ Deployment Guide ‚Äî TaxiApp

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –¥—ñ—ó, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫—É —Å–∏—Å—Ç–µ–º–∏ TaxiApp —É –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.  
–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —Ç–∞ –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤, —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å —Ä–æ–±–æ—Ç—É.

---

# 1. –í–∏–º–æ–≥–∏ –¥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ:

## 1.1 –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
- Windows 10/11  
- –∞–±–æ Linux (Ubuntu 20.04+)  
- –∞–±–æ macOS 12+

## 1.2 –ê–ø–∞—Ä–∞—Ç–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
- **CPU:** 1‚Äì2 —è–¥—Ä–∞  
- **RAM:** 2‚Äì4 GB  
- **Disk:** 200+ –ú–ë –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è  

## 1.3 –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ —Å–ª—É–∂–±–∏ / –ü–ó
- **PostgreSQL 12+**
- **Node.js 18+ (LTS)**  
- NPM (–≤—Ö–æ–¥–∏—Ç—å –¥–æ Node.js)  
- Git

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
```bash
node -v
npm -v
psql --version
git --version
```
# 2. –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

*–ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–∞–∫—ñ –∫–ª—é—á–æ–≤—ñ –ø–∞–∫–µ—Ç–∏:*

# Backend

- express
- pg (postgres client)
- ejs
- dotenv
- express-session
- body-parser

*–í—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ—é:*

```bash
npm install
```

*–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö*

# –ù–µ–æ–±—Ö—ñ–¥–Ω–∏–π —Å–∫—Ä–∏–ø—Ç:

- db.sql ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å TaxiApp

# 3. –ü–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ ‚Äî –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä—à–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏.

## 3.1 –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É
```bash
git clone https://github.com/romansxxq/Coursework_TaxiApp.git
cd Coursework_TaxiApp
```
3.2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
npm install
3.3 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (.env)
```

*–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª .env:*

```bash
cp .env.example .env
```

–í—Å—Ç–∞–≤–∏—Ç–∏ —Å–≤–æ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

PORT=3000

```bash
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=taxiapp

SESSION_SECRET=change_me
```

## 3.4 –Ü–º–ø–æ—Ä—Ç —Å—Ö–µ–º–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–°—Ç–≤–æ—Ä–∏—Ç–∏ –ë–î:

```bash
CREATE DATABASE taxiapp;
```

–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```bash
psql -U postgres -d taxiapp -f db.sql
```

## 3.5 –ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
(–∑–±—ñ—Ä–∫–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ ‚Äî Node.js –≤–∏–∫–æ–Ω—É—î –Ω–∞–ø—Ä—è–º—É)

–ó–∞–ø—É—Å–∫:
```bash
node server.js
```

–ü–µ—Ä–µ–≥–ª—è–¥ —É –±—Ä–∞—É–∑–µ—Ä—ñ:
```bash
http://localhost:3000
```

# 4. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
–£—Å—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤:

- .env ‚Äî –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- server.js ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

## 4.1 –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- DB_HOST ‚Äî –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ PostgreSQL

- DB_USER ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ë–î

- DB_PASSWORD ‚Äî –ø–∞—Ä–æ–ª—å

- PORT ‚Äî –ø–æ—Ä—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

## 4.2 –°–µ–∫—Ä–µ—Ç–∏

- SESSION_SECRET

*–í–∞–∂–ª–∏–≤–æ: .env –Ω–µ –¥–æ–¥–∞—î—Ç—å—Å—è –≤ GitHub*

# 5. –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑–∞–ø—É—Å–∫—É
## 5.1 –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É
```bash
node server.js
```

## 5.2 –ó–∞–ø—É—Å–∫ —É —Ä–µ–∂–∏–º—ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É (dev)
–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ nodemon:

```bash
npm install -g nodemon
nodemon server.js
```

## 5.3 –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
–£ –Ω–∞–≤—á–∞–ª—å–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∞–ª–µ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ:

- –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2;

- Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä;

- –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ë–î.

## 5.4 –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥—ñ–≤
–õ–æ–≥–∏ –≤–∏–≤–æ–¥—è—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å Node.js:

arduino
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
```bash
Server is running...
Connected to PostgreSQL...
```
# 6. –ü—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
## 6.1 –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

```bash
git pull
npm install
```
## 6.2 –ú—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î
–£ –Ω–∞–≤—á–∞–ª—å–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó:

- –ø–æ–≤—Ç–æ—Ä–Ω–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ db.sql (—è–∫—â–æ —î –∑–º—ñ–Ω–∏)

–ê–±–æ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ (–ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ ALTER):

```bash
ALTER TABLE ...
```
## 6.3 –ü–æ–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–∫–∞—Ç—É

–£ —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏:
–ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—é –≤–µ—Ä—Å—ñ—é —á–µ—Ä–µ–∑ Git:

```bash
git checkout previous_commit
```

–≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ë–î —á–µ—Ä–µ–∑ —Ä–µ–∑–µ—Ä–≤–Ω–∏–π –¥–∞–º–ø:

```bash
psql -U postgres -d taxiapp -f backup.sql
```
# 7. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö –ø–æ–º–∏–ª–æ–∫
*‚ùå –ü–æ–º–∏–ª–∫–∞: "psql: command not found"
–†—ñ—à–µ–Ω–Ω—è: –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ PostgreSQL —ñ –¥–æ–¥–∞—Ç–∏ –π–æ–≥–æ –≤ PATH.

‚ùå –ü–æ–º–∏–ª–∫–∞: "ECONNREFUSED ‚Äî –Ω–µ –≤–¥–∞–ª–æ—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –ë–î"*
–ü–µ—Ä–µ–≤—ñ—Ä:

- —á–∏ –∑–∞–ø—É—â–µ–Ω–æ PostgreSQL;

- —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ .env.

*‚ùå –ü–æ–º–∏–ª–∫–∞: "relation does not exist"*
–°—Ö–µ–º–∞ –ë–î –Ω–µ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–∞. –í–∏–∫–æ–Ω–∞–π:

```bash
psql -U postgres -d taxiapp -f db.sql
```
*‚ùå –ü–æ–º–∏–ª–∫–∞: –º–æ–¥—É–ª—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ*
–í–∏–∫–æ–Ω–∞–π:

```bash
npm install
```
---
*‚ùå –ü–æ–º–∏–ª–∫–∞: —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î, –∞–ª–µ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è*
–ü–µ—Ä–µ–≤—ñ—Ä:

- —á–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—Ç;

- —á–∏ –∑–∞–ø—É—â–µ–Ω–∏–π server.js.

